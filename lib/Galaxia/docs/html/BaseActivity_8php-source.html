<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BaseActivity.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>BaseActivity.php</h1><div class="fragment"><pre>00001 &lt;?php
00004 
<a name="l00010"></a><a class="code" href="classBaseActivity.html">00010</a> <span class="keyword">class </span><a class="code" href="classBaseActivity.html">BaseActivity</a> <span class="keyword">extends</span> Base {
00011   var $name;
00012   var $normalized_name;
00013   var $description;
00014   var $isInteractive;
00015   var $isAutoRouted;
00016   var $roles=Array();
00017   var $outbound=Array();
00018   var $inbound=Array();
00019   
<a name="l00024"></a><a class="code" href="classBaseActivity.html#a0">00024</a>   function <a class="code" href="classBaseActivity.html#a0">getActivity</a>($activityId) 
00025   {
00026     $query = <span class="stringliteral">"select * from galaxia_activities where activityId=$activityId"</span>;
00027     $result = $this-&gt;query($query);
00028     <span class="keywordflow">if</span>(!$result-&gt;numRows()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00029     $res = $result-&gt;fetchRow(DB_FETCHMODE_ASSOC);
00030     <span class="keywordflow">switch</span>($res['type']) {
00031       <span class="keywordflow">case</span> 'start':
00032         $act = <span class="keyword">new</span> Start();  
00033       <span class="keywordflow">break</span>;
00034       <span class="keywordflow">case</span> 'end':
00035         $act = <span class="keyword">new</span> End();
00036       <span class="keywordflow">break</span>;
00037       <span class="keywordflow">case</span> 'join':
00038         $act = <span class="keyword">new</span> Join();
00039       <span class="keywordflow">break</span>;
00040       <span class="keywordflow">case</span> 'split':
00041         $act = <span class="keyword">new</span> Split();
00042       <span class="keywordflow">break</span>;
00043       <span class="keywordflow">case</span> 'standalone':
00044         $act = <span class="keyword">new</span> Standalone();
00045       <span class="keywordflow">break</span>;
00046       <span class="keywordflow">case</span> '<span class="keywordflow">switch</span>':
00047         $act = <span class="keyword">new</span> SwitchActivity();
00048       <span class="keywordflow">break</span>;
00049       <span class="keywordflow">case</span> 'activity':
00050         $act = <span class="keyword">new</span> Activity();
00051       <span class="keywordflow">break</span>;
00052       <span class="keywordflow">default</span>:
00053         trigger_error('Unknown activity type:'.$res['type'],E_USER_WARNING);
00054     }
00055     
00056     $act-&gt;setName($res['name']);
00057     $act-&gt;setNormalizedName($res['normalized_name']);
00058     $act-&gt;setDescription($res['description']);
00059     $act-&gt;setIsInteractive($res['isInteractive']);
00060     $act-&gt;setIsAutoRouted($res['isAutoRouted']);
00061     
00062     <span class="comment">//Now get forward transitions </span>
00063     
00064     <span class="comment">//Now get backward transitions</span>
00065     
00066     <span class="comment">//Now get roles</span>
00067     
00068     <span class="keywordflow">return</span> $act;
00069   }
00070   
00071   
00072   
00073 }
00074 ?&gt;
</pre></div><hr><address style="align: right;"><small>Generated on Mon Apr 14 11:51:57 2003 for Galaxia by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
